<UserControl x:Class="CameraRecorder.View.VideoManagerView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:CameraRecorder.ViewModel"
             VerticalAlignment="Stretch"
             HorizontalAlignment="Stretch"
             HorizontalContentAlignment="Stretch"
             VerticalContentAlignment="Stretch">

    <Border Margin="5" BorderThickness="2" BorderBrush="Black">
    <Grid 
          VerticalAlignment="Stretch"
          HorizontalAlignment="Stretch">
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="*"
                           MinHeight="200" />
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0"
                    Orientation="Horizontal"
                    HorizontalAlignment="center"
                    Margin="10,10,10,10">
            <Button Content="Exporter"
                    Style="{StaticResource SiifButton}"
                    Command="{Binding CopyCommand}"
                    Margin="5,0,5,0"
                    Padding="5" />
            <Button Content="Supprimer"
                    Style="{StaticResource SiifButton}"
                    Command="{Binding DeleteCommand}"
                    Margin="0,0,5,0"
                    Padding="5" />
            <Button Content="Select all"
                    Style="{StaticResource SiifButton}"
                    Command="{Binding AllSelect}"
                    Margin="0,0,5,0"
                    Padding="5" />
            <Button Content="Deselect all"
                    Style="{StaticResource SiifButton}"
                    Command="{Binding NoAllSelect}"
                    Margin="0,0,5,0"
                    Padding="5" />
        </StackPanel>
        <DataGrid ItemsSource="{Binding Videos}"
                  AutoGenerateColumns="False"
                  Grid.Row="1"
                  CanUserAddRows="False"
                  SelectionMode="Extended"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  VerticalScrollBarVisibility="Visible"
                  BorderThickness="0"
                  >
            <DataGrid.Columns>
                <DataGridCheckBoxColumn Header="Sélection"
                                        Binding="{Binding IsSelected}"
                                        Width="80" />
                <DataGridTemplateColumn Header="Nom"
                                        Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock>
                            <Hyperlink Command="{Binding DataContext.OpenVideoCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                       CommandParameter="{Binding}">
                                <TextBlock Text="{Binding Name}" />
                            </Hyperlink>
                        </TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

                <DataGridTextColumn Header="Durée"
                                    Binding="{Binding Duration}"
                                    Width="120"
                                    IsReadOnly="True" />
            </DataGrid.Columns>
        </DataGrid>
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    Margin="2,2,2,2"
                    VerticalAlignment="Center"
                    
                    >
                        
            <Button Content="Ouvrir le dossier"
                    Click="Button_Click" />

            <TextBlock Text="{Binding SizeFolderString}"
                       HorizontalAlignment="Right"
                       Padding="5"
                       >

            </TextBlock>

        </StackPanel>
    </Grid>
    </Border>
</UserControl>